#Область ОбработчикиСобытийФормы

// Процедура - обработчик события "ПриСозданииНаСервере" формы.
// Устанавливает ограничение типа для поля "Значение" на основе параметра "ТипЭталона".
//
// Параметры:
//  Отказ - Булево - признак отказа от создания формы.
//  СтандартнаяОбработка - Булево - признак выполнения стандартной обработки события.
//
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	
    // Инициализация переменной ТипЭталона из параметров формы
	Если Параметры.Свойство("ТипЭталона") Тогда
    	ТипЭталона = Параметры.ТипЭталона;
	КонецЕсли;
	    
    // Установка ограничения типа для поля "Значение"
    Если ЗначениеЗаполнено(ТипЭталона) Тогда
        // Получение типа значения из плана видов характеристик
        ТипЗначения = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ТипЭталона, "ТипЗначения");
        Элементы.Значение.ОграничениеТипа = ТипЗначения;
    Иначе
        // Установка пустого типа, если ТипЭталона не заполнен
        Элементы.Значение.ОграничениеТипа = Новый ОписаниеТипов;
    КонецЕсли;
    
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

// Процедура - обработчик команды "ВыбратьЭлемент".
// Закрывает форму с возвратом выбранного значения.
//
// Параметры:
//  Команда - КомандаФормы - выполненная команда формы.
//
&НаКлиенте
Процедура ВыбратьЭлемент(Команда)
    
    // Закрытие формы с возвратом значения
    Закрыть(ЭтаФорма.Значение);
    
КонецПроцедуры

// Процедура - обработчик команды "ЗакрытьФорму".
// Закрывает форму без возврата данных.
//
// Параметры:
//  Команда - КомандаФормы - выполненная команда формы.
//
&НаКлиенте
Процедура ЗакрытьФорму(Команда)
    
    // Закрытие формы
    Закрыть();
    
КонецПроцедуры

#КонецОбласти